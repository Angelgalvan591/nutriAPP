{% extends "base.html" %}
{% block content %}

<div class="container my-4" style="font-family:'Jersey 20';">

  <!-- TÃTULO -->
  <h1 class="text-center text-uppercase" style="color:#5b4632;">
    ğŸ¦¦ NutriApp â€” Tu Zona Nutrimiau ğŸ‚
  </h1>
  <p class="text-center mb-4" style="color:#7a6146;">
    Un espacio suavecito, nutritivo y lleno de ternura.
  </p>

  <!-- Â¿QUÃ‰ ES NUTRIAPP? -->
  <div class="card mb-4 shadow border-0" style="background:#eadfce; border-radius:15px;">
    <div class="card-header text-center text-uppercase text-white"
         style="background:#b89572; font-size:1.7rem; border-radius:15px 15px 0 0;">
      Â¿QuÃ© es NutriApp?
    </div>
    <div class="card-body" style="color:#5b4632;">
      <p>NutriApp es tu compaÃ±ero nutricional pensado para ayudarte sin estresarte.</p>
      <p>Controla tus calorÃ­as, consulta recetas saludables, analiza tus ingredientes y diviÃ©rtete creando arte mientras cuidas tu salud.</p>
      <p>Todo es gratis, accesible y seguro para ti.</p>
    </div>
  </div>

  <!-- 3 COLUMNAS PRINCIPALES -->
  <div class="row g-4">

    <!-- COLUMNA IZQUIERDA -->
    <div class="col-md-4">

      <!-- Card 1 -->
      <div class="card shadow border-0 mb-3" style="background:#f3e8dc; border-radius:15px;">
        <div class="card-header text-center text-uppercase text-white"
             style="background:#8b6b4a; font-size:1.6rem; border-radius:15px 15px 0 0;">
          Antes de usar NutriApp âœ¨
        </div>
        <div class="card-body" style="color:#5b4632;">
          <ul style="padding-left:20px;">
            <li>Las calorÃ­as son aproximadas ğŸª</li>
            <li>La salud es constancia ğŸ’—</li>
            <li>Ve a tu ritmo ğŸŒ±</li>
            <li>PequeÃ±os avances importan â­</li>
          </ul>
        </div>
      </div>

      <!-- Card 2 -->
      <div class="card shadow border-0 mb-3" style="background:#f3e8dc; border-radius:15px;">
        <div class="card-header text-center text-uppercase text-white"
             style="background:#b89572; font-size:1.6rem; border-radius:15px 15px 0 0;">
          InformaciÃ³n importante ğŸ“Œ
        </div>
        <div class="card-body" style="color:#5b4632;">
          <ul style="padding-left:20px;">
            <li>No compartimos tus datos ğŸ”’</li>
            <li>100% gratuito ğŸ¤</li>
            <li>Tu informaciÃ³n es segura ğŸ›¡ï¸</li>
            <li>Te ayudamos sin juzgar ğŸ’•</li>
          </ul>
        </div>
      </div>

      <!-- Card 3 -->
      <div class="card shadow border-0" style="background:#f3e8dc; border-radius:15px;">
        <div class="card-header text-center text-uppercase text-white"
             style="background:#b89572; font-size:1.6rem; border-radius:15px 15px 0 0;">
          ContÃ¡ctanos ğŸ’Œ
        </div>
        <div class="card-body" style="color:#5b4632;">
          <ul style="padding-left:20px;">
            <li><a href="https://www.facebook.com/angel.galvan.37550">Facebook de Angel</a></li>
            <li><a href="https://www.facebook.com/yui.chan.uwu.awuadecanela">Facebook de Judith</a></li>
            <li><a href="https://www.instagram.com/justt_ang17/">Instagram de Angel</a></li>
            <li><a href="https://www.instagram.com/dann._.zpt/">Instagram de Judith</a></li>
          </ul>
        </div>
      </div>

    </div>

    <!-- COLUMNA CENTRAL (ARTE) -->
    <div class="col-md-4">

      <div class="card shadow border-0" style="background:#eadfce; border-radius:15px;">
        <div class="card-header text-center text-uppercase text-white"
             style="background:#b89572; font-size:1.6rem; border-radius:15px 15px 0 0;">
          ğŸ¨ Zona Creativa â€” Arte Nutrimiau
        </div>
        <div class="card-body text-center" style="color:#5b4632;">

          <p>RelÃ¡jate y dibuja algo bonito ğŸ§âœ¨</p>

          <canvas id="dibujo" width="300" height="250"
                  style="border:3px dashed #b89572; border-radius:10px; background:white; cursor:crosshair;"></canvas>

          <div class="mt-3 d-flex justify-content-center gap-2">
            <button id="limpiarBtn" class="btn btn-sm btn-outline-dark px-4">Limpiar</button>
            <button id="guardarBtn" class="btn btn-sm btn-outline-dark px-4">Guardar</button>
          </div>
        </div>
      </div>

    </div>

    <!-- COLUMNA DERECHA -->
    <div class="col-md-4">

      <!-- SÃ­ y No -->
      <div class="card shadow border-0 mb-3" style="background:#f3e8dc; border-radius:15px;">
        <div class="card-header text-center text-uppercase text-white"
             style="background:#8b6b4a; font-size:1.6rem; border-radius:15px 15px 0 0;">
          SÃ­ y No de NutriApp ğŸ‚
        </div>
        <div class="card-body" style="color:#5b4632;">
          <h6 class="fw-bold">SÃ­ puedes ğŸ’–</h6>
          <ul style="padding-left:20px;">
            <li>Buscar recetas saludables</li>
            <li>Analizar ingredientes</li>
            <li>Guardar progresos</li>
            <li>Usar la zona creativa</li>
          </ul>

          <h6 class="fw-bold mt-3">Evita âŒ</h6>
          <ul style="padding-left:20px;">
            <li>Compararte</li>
            <li>Obsesionarte</li>
            <li>Saltarte comidas</li>
            <li>Dietas extremas</li>
          </ul>
        </div>
      </div>

      <!-- Analizador -->
      <div class="card shadow border-0" style="background:#f3e8dc; border-radius:15px;">
        <div class="card-header text-center text-uppercase text-white"
             style="background:#8b6b4a; font-size:1.6rem; border-radius:15px 15px 0 0;">
          Analizador Nutricional ğŸ§
        </div>
        <div class="card-body" style="color:#5b4632;">
          <p>Ingresa tus ingredientes y te damos su informaciÃ³n nutricional.</p>
          <a href="{{ url_for('analizador') }}" class="btn btn-sm btn-outline-dark w-100 rounded-pill">
            Ir al Analizador
          </a>
        </div>
      </div>

    </div>

  </div> <!-- /row -->

  <hr class="my-4" style="border:1px solid #f8c68f;">

  <!-- FUNCIONES -->
  <div class="row g-4 mb-4">

    <div class="col-md-4">
      <div class="card shadow border-0" style="background:#f3e8dc; border-radius:15px;">
        <div class="card-header text-center text-white" style="background:#8b6b4a;">
          Contador CalÃ³rico ğŸ”¥
        </div>
        <div class="card-body" style="color:#5b4632;">
          <p>Consulta tus calorÃ­as diarias estimadas.</p>
        </div>
      </div>
    </div>

    <div class="col-md-4">
      <div class="card shadow border-0" style="background:#f3e8dc; border-radius:15px;">
        <div class="card-header text-center text-white" style="background:#8b6b4a;">
          Recetario Saludable ğŸ½ï¸
        </div>
        <div class="card-body" style="color:#5b4632;">
          <p>Recetas nutritivas con calorÃ­as automÃ¡ticas.</p>
        </div>
      </div>
    </div>

    <div class="col-md-4">
      <div class="card shadow border-0" style="background:#f3e8dc; border-radius:15px;">
        <div class="card-header text-center text-white" style="background:#8b6b4a;">
          MÃ¡s Herramientas ğŸ§¡
        </div>
        <div class="card-body" style="color:#5b4632;">
          <p>Calculadoras de IMC, gasto energÃ©tico y mÃ¡s.</p>
        </div>
      </div>
    </div>

  </div>

</div>

<!-- CANVAS SCRIPT -->
<script>
  const canvas = document.getElementById("dibujo");
  const ctx = canvas.getContext("2d");
  let dib = false;

  canvas.onmousedown = e => { dib = true; ctx.beginPath(); ctx.moveTo(e.offsetX, e.offsetY); }
  canvas.onmouseup = () => dib = false;
  canvas.onmouseleave = () => dib = false;

  canvas.onmousemove = e => {
    if (dib) {
      ctx.lineTo(e.offsetX, e.offsetY);
      ctx.strokeStyle = "#5b4632";
      ctx.lineWidth = 2;
      ctx.lineCap = "round";
      ctx.stroke();
    }
  };

  document.getElementById("limpiarBtn").onclick = () => ctx.clearRect(0,0,canvas.width,canvas.height);
  document.getElementById("guardarBtn").onclick = () => {
    const link = document.createElement("a");
    link.download = "mi_dibujo_nutriapp.jpg";
    link.href = canvas.toDataURL();
    link.click();
  };
</script>

{% endblock %}
